const forma=document.querySelector("#forma"),input=document.querySelectorAll("input"),inputDate=document.querySelector('input[type="date"]'),btn=document.querySelector("#btn");btn.addEventListener("click",e=>{e.preventDefault()});const btnMenu=document.querySelector("#btnMenu"),newMenu=document.querySelector(".new-menu");let delMenu=document.querySelectorAll(".block-price__del");const nameMenu=document.querySelector("#name-menu"),priceMenu=document.querySelector("#price-menu"),descriptionMenu=document.querySelector("#description-menu"),numberMenu=document.querySelector("#number-menu"),newMenuBtn=document.querySelector(".new-menu__btn"),massPrice=[];for(let e=0;e<3;e++)massPrice[e]=document.querySelector("#price"+e);function cleaner(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function peresovka(e){for(let n=0;n<e.length;n++)creatMenu(e[n])}function creatMenu(e){let n=document.createElement("div"),t=document.createElement("p"),r=document.createElement("p"),c=document.createElement("span"),u=document.createElement("div");u.className="block-price__del",c.className="block-price__money",t.className="block-price__title",r.className="block-price__subtitle",n.className="block-price__inner",u.textContent="x",c.textContent=e.price+" USD",t.textContent=e.name+"____",r.textContent=e.description,n.append(u),n.append(t),t.append(c),n.append(r),massPrice[e.colum-1].append(n),u.id=e.id,delMenu=document.querySelectorAll(".block-price__del"),del()}function del(){delMenu.forEach(e=>{e.addEventListener("click",e=>{let n=e.target.id;deletMenu(n),massPrice.forEach(e=>{cleaner(e)}),peresovka(listenMenu)})})}btnMenu.addEventListener("click",()=>{newMenu.classList.toggle("flex-menu")});const error=document.querySelectorAll(".error");function validatio(e,n,t,r){return e?(n.classList.add("__error"),error[t].textContent=r,0):(n.classList.remove("__error"),error[t].textContent="",1)}newMenuBtn.addEventListener("click",()=>{let e=0==nameMenu.value,n=0==priceMenu.value,t=parseInt(numberMenu.value)>3||0==parseInt(numberMenu.value),r=0;0==r&&(r+=validatio(e,nameMenu,0,"укажите имя"),r+=validatio(n,priceMenu,1,"укажите сумму"),r+=validatio(t,numberMenu,2,"укажите от 1 до 3"),console.log(r)),r>=3&&(addMenu(nameMenu.value,priceMenu.value,descriptionMenu.value,numberMenu.value),creatMenu(listenMenu[listenMenu.length-1]))}),peresovka(listenMenu);